!function(e,t,p,r){"use strict";function m(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function s(e,t){var r,i,o,n,a,l,c={},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=s.split(t.delimiter,p),u=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?f="utf-8":"utf8=%26%2310003%3B"===d[r]&&(f="iso-8859-1"),u=r,r=d.length);for(r=0;r<d.length;++r){r!==u&&((l=-1===(n=-1===(o=(i=d[r]).indexOf("]="))?i.indexOf("="):o+1)?(a=t.decoder(i,b.decoder,f,"key"),t.strictNullHandling?null:""):(a=t.decoder(i.slice(0,n),b.decoder,f,"key"),y.maybeMap(m(i.slice(n+1),t),function(e){return t.decoder(e,b.decoder,f,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===f&&(l=l.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<i.indexOf("[]=")&&(l=g(l)?[l]:l),h.call(c,a)?c[a]=y.combine(c[a],l):c[a]=l)}return c}function d(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,a=0<r.depth&&/(\[[^[\]]*])/.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!r.plainObjects&&h.call(p.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var s=0;0<r.depth&&null!==(a=n.exec(o))&&s<r.depth;){if(s+=1,!r.plainObjects&&h.call(p.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),function(e,t,r,i){for(var o=i?t:m(t,r),n=e.length-1;0<=n;--n){var a,l,c,s=e[n];"[]"===s&&r.parseArrays?a=[].concat(o):(a=r.plainObjects?p.create(null):{},l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10),r.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(a=[])[c]=o:a[l]=o:a={0:o}),o=a}return o}(c,t,r,i)}}var y=t("./utils.js"),h=p.prototype.hasOwnProperty,g=r.isArray,b={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:y.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=function(e){if(!e)return b;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?b.charset:e.charset;return{allowDots:void 0===e.allowDots?b.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:b.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:b.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:b.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:b.comma,decoder:"function"==typeof e.decoder?e.decoder:b.decoder,delimiter:"string"==typeof e.delimiter||y.isRegExp(e.delimiter)?e.delimiter:b.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:b.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:b.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:b.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:b.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?p.create(null):{};for(var i="string"==typeof e?s(e,r):e,o=r.plainObjects?p.create(null):{},n=p.keys(i),a=0;a<n.length;++a)var l=n[a],c=d(l,i[l],r,"string"==typeof e),o=y.merge(o,c,r);return y.compact(o)}}(module,(exports,require),Object,Array,RegExp);