!function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delayGetScrollOffset=e.delayGetClientRect=e.handleTouchScroll=e.pxTransform=e.isTest=e.initTestEnv=e.getEventDetail=e.uuid=e.delayQuerySelector=e.delay=void 0;var n,o=t("../../../../@tarojs/taro-weapp/index.js"),f=(n=o)&&n.__esModule?n:{default:n};var r=f.default.getEnv();function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:500;return new Promise(function(e){[f.default.ENV_TYPE.WEB,f.default.ENV_TYPE.SWAN].includes(r)?setTimeout(function(){e()},t):e()})}var a=0;e.delay=i,e.delayQuerySelector=function(e,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:500,t=r===f.default.ENV_TYPE.WEB?e:e.$scope,a=f.default.createSelectorQuery().in(t);return new Promise(function(t){i(o).then(function(){a.select(n).boundingClientRect().exec(function(e){t(e)})})})},e.uuid=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:8,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[],l=0,n=n||o.length;if(t)for(l=0;l<t;l++)a[l]=o[0|Math.random()*n];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",l=0;l<36;l++)a[l]||(e=0|16*Math.random(),a[l]=o[19===l?3&e|8:e]);return a.join("")},e.getEventDetail=function(e){var t=void 0;switch(r){case f.default.ENV_TYPE.WEB:t={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,x:e.x,y:e.y};break;case f.default.ENV_TYPE.WEAPP:t={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,offsetX:e.target.offsetLeft,offsetY:e.target.offsetTop,x:e.target.x,y:e.target.y};break;case f.default.ENV_TYPE.ALIPAY:t={pageX:e.target.pageX,pageY:e.target.pageY,clientX:e.target.clientX,clientY:e.target.clientY,offsetX:e.target.offsetLeft,offsetY:e.target.offsetTop,x:e.target.x,y:e.target.y};break;case f.default.ENV_TYPE.SWAN:t={pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.target.clientX,clientY:e.target.clientY,offsetX:e.target.offsetLeft,offsetY:e.target.offsetTop,x:e.detail.x,y:e.detail.y};break;default:t={pageX:0,pageY:0,clientX:0,clientY:0,offsetX:0,offsetY:0,x:0,y:0},console.warn("getEventDetail暂未支持该环境")}return t},e.initTestEnv=function(){},e.isTest=function(){return!1},e.pxTransform=function(e){return e?f.default.pxTransform(e):""},e.handleTouchScroll=function(e){r===f.default.ENV_TYPE.WEB&&(e?(a=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-a+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=a))},e.delayGetClientRect=function(e){var t=e.self,n=e.selectorStr,o=e.delayTime,a=void 0===o?500:o,l=r===f.default.ENV_TYPE.WEB||r===f.default.ENV_TYPE.SWAN?t:t.$scope,c=f.default.createSelectorQuery().in(l);return new Promise(function(t){i(a).then(function(){c.select(n).boundingClientRect().exec(function(e){t(e)})})})},e.delayGetScrollOffset=function(e){var t=e.delayTime,n=void 0===t?500:t;return new Promise(function(t){i(n).then(function(){f.default.createSelectorQuery().selectViewport().scrollOffset().exec(function(e){t(e)})})})}}(exports,require);