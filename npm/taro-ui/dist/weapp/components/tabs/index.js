!function(t,e,C,i){"use strict";C.defineProperty(t,"__esModule",{value:!0});var a=function(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t};function o(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),C.defineProperty(t,o.key,o)}}var n,r,D=p(e("../../../../../classnames/index.js")),l=p(e("../../../../../prop-types/index.js")),x=e("../../../../../@tarojs/taro-weapp/index.js"),s=p(x),u=p(e("../../common/component.js")),c=e("../../common/utils.js");function p(t){return t&&t.__esModule?t:{default:t}}function M(t,e,a){return e in t?C.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var I=s.default.getEnv(),f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=C.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(C.setPrototypeOf?C.setPrototypeOf(t,e):t.__proto__=e)}(_,u.default),a(_,[{key:"_constructor",value:function(t){(function t(e,a,o){null===e&&(e=Function.prototype);var n=C.getOwnPropertyDescriptor(e,a);if(void 0===n){var r=C.getPrototypeOf(e);return null===r?void 0:t(r,a,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0})(_.prototype.__proto__||C.getPrototypeOf(_.prototype),"_constructor",this).call(this,t),this.state={_scrollLeft:0,_scrollTop:0,_scrollIntoView:""},this._tabId=(0,c.isTest)()?"tabs-AOTU2018":(0,c.uuid)(),this._touchDot=0,this._timer=null,this._interval=0,this._isMoving=!1,this.$$refs=new s.default.RefsArray}},{key:"handleClick",value:function(t,e){this.props.onClick(t,e)}},{key:"handleTouchStart",value:function(t){var e=this,a=this.props,o=a.swipeable,n=a.tabDirection;o&&"vertical"!==n&&(this._touchDot=t.touches[0].pageX,this._timer=setInterval(function(){e._interval++},100))}},{key:"handleTouchMove",value:function(t){var e,a,o=this.props,n=o.swipeable,r=o.tabDirection,i=o.current,l=o.tabList;n&&"vertical"!==r&&(e=t.touches[0].pageX-this._touchDot,a=l.length,!this._isMoving&&this._interval<10&&20<this._touchDot&&(i+1<a&&e<=-100?(this._isMoving=!0,this.handleClick(i+1,t)):0<=i-1&&100<=e&&(this._isMoving=!0,this.handleClick(i-1,t))))}},{key:"handleTouchEnd",value:function(){var t=this.props,e=t.swipeable,a=t.tabDirection;e&&"vertical"!==a&&(clearInterval(this._timer),this._interval=0,this._isMoving=!1)}},{key:"getTabHeaderRef",value:function(){I===s.default.ENV_TYPE.WEB&&(this.tabHeaderRef=document.getElementById(this._tabId))}},{key:"componentWillReceiveProps",value:function(t){t.scroll!==this.props.scroll&&this.getTabHeaderRef(),t.current!==this.props.current&&this.updateState(t.current)}},{key:"componentDidMount",value:function(){this.getTabHeaderRef(),this.updateState(this.props.current)}},{key:"componentWillUnmount",value:function(){this.tabHeaderRef=null}},{key:"_createData",value:function(t,e,a){var o;this.__state=t||this.state||{},this.__props=e||this.props||{},this.$prefix;var n=this._tabId,r=this.__props,i=r.customStyle,l=r.className,s=r.height,u=r.tabDirection,c=r.animated,p=r.tabList,h=r.scroll,f=r.current,_=this.__state,d=(_._scrollLeft,_._scrollTop,_._scrollIntoView,{height:s}),m={height:"vertical"===u?100*p.length+"%":"1PX",width:"horizontal"===u?100*p.length+"%":"1PX"},b={},y="horizontal"===u?"translate3d(-"+100*f+"%, 0px, 0px)":"translate3d(0px, -"+100*f+"%, 0px)";C.assign(b,{transform:y,"-webkit-transform":y}),c||(b.transition="unset");var v=(0,D.default)((M(o={"at-tabs":!0,"at-tabs--scroll":h},"at-tabs--"+u,!0),M(o,"at-tabs--"+I,!0),o),l),g="horizontal"===u,w="vertical"===u,T=(0,x.internal_inline_style)(this.mergeStyle(d,i)),P=h?(0,x.internal_inline_style)(d):null,S=(0,x.internal_inline_style)(this.mergeStyle(b,d)),k=(0,x.internal_inline_style)(m),E=p.map(function(t,e){return t={$original:(0,x.internal_get_original)(t)},{itemCls:(0,D.default)({"at-tabs__item":!0,"at-tabs__item--active":f===e}),$original:t.$original}});return C.assign(this.__state,{anonymousState__temp:T,anonymousState__temp2:P,anonymousState__temp3:S,anonymousState__temp4:k,loopArray11:E,tabList:p,rootCls:v,scroll:h,_tabId:n,scrollX:g,scrollY:w}),this.__state}}]),r=n=_,n.$$events=["handleClick","handleTouchStart","handleTouchEnd","handleTouchMove"],n.$$componentPath="C:/Users/HP/Desktop/项目总/LightMindMiniProgram/node_modules/taro-ui/dist/weapp/components/tabs/index",r);function _(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);for(var a=arguments.length,o=i(a),r=0;r<a;r++)o[r]=arguments[r];return(e=n=h(this,(t=_.__proto__||C.getPrototypeOf(_)).call.apply(t,[this].concat(o)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","loopArray11","tabList","rootCls","scroll","_tabId","scrollX","scrollY","_scrollLeft","_scrollTop","_scrollIntoView","swipeable","tabDirection","current","customStyle","className","height","animated","children"],n.updateState=function(t){if(n.props.scroll)switch(I){case s.default.ENV_TYPE.WEAPP:case s.default.ENV_TYPE.ALIPAY:case s.default.ENV_TYPE.SWAN:var e=Math.max(t-1,0);n.setState({_scrollIntoView:"tab"+e});break;case s.default.ENV_TYPE.WEB:var a=Math.max(t-1,0),o=n.tabHeaderRef.childNodes[a];o&&n.setState({_scrollTop:o.offsetTop,_scrollLeft:o.offsetLeft});break;default:console.warn("AtTab 组件在该环境还未适配")}},n.customComponents=[],h(n,e)}f.defaultProps={customStyle:"",className:"",tabDirection:"horizontal",height:"",current:0,swipeable:!0,scroll:!1,animated:!0,tabList:[],onClick:function(){}},f.propTypes={customStyle:l.default.oneOfType([l.default.object,l.default.string]),className:l.default.oneOfType([l.default.array,l.default.string]),height:l.default.string,tabDirection:l.default.oneOf(["horizontal","vertical"]),current:l.default.number,swipeable:l.default.bool,scroll:l.default.bool,animated:l.default.bool,tabList:l.default.array,onClick:l.default.func},t.default=f,Component(e("../../../../../@tarojs/taro-weapp/index.js").default.createComponent(f))}((module,exports),require,Object,Array);