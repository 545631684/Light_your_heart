!function(t,e,o,n){"use strict";o.defineProperty(t,"__esModule",{value:!0});var b=o.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j=function(t,e){if(n.isArray(t))return t;if(Symbol.iterator in o(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=e("../../npm/@tarojs/taro-weapp/index.js"),_=(r(x),r(e("../showHide/index.js")));function r(t){return t&&t.__esModule?t:{default:t}}t.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3],o=(0,x.useState)([]),a=j(o,2),i=a[0],u=a[1],l=(0,x.useState)(!1),c=j(l,2),f=c[0],s=c[1],d=(0,x.useState)(!1),g=j(d,2),h=g[0],p=g[1],v=(0,x.useState)(b({},e,{page:1,limit:10})),y=j(v,2),m=y[0],S=y[1];function w(t){S(b({},m,{page:t}))}return(0,_.default)(function(){i.length&&r&&(console.log("refresh---"),u([]),w(1))}),(0,x.useEffect)(function(){n||(s(!0),t(m).then(function(t){var e;console.log(t),s(!1),0===t.code?(e=t.data||[],u(i.concat(e)),e.length<m.limit&&p(!0)):t.count||p(!0)}).catch(function(t){s(!1)}))},[t,m]),(0,x.useReachBottom)(function(){console.log("----------------"),h||f||w(m.page+1)}),(0,x.usePageScroll)(function(t){}),{list:i,loadingMore:f,noData:h,onFormChange:function(t){u([]),S(b({},m,t,{page:1}))}}}}(exports,require,Object,Array);